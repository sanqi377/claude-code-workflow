# CLAUDE 代理工作流系统

## 🚀 概述

CLAUDE 代理系统是一个结构化的工作流，用于在任何软件项目中实现功能和修复问题。它使用多个专业代理按顺序工作，确保高质量的代码、适当的文档和安全的版本控制。规划代理需要指定哪些阶段可以同时进行！

## 🤖 代理

### 1. 规划代理 - 策略师

- **角色**: 调查问题并设计解决方案
- **分析**: 根本原因，而非症状
- **创建**: 为其他代理制定详细阶段
- **命令**: `/planner "描述你的问题或想法"`

### 2. 执行代理 - 建设者

- **角色**: 实现解决方案
- **遵循**: 来自规划代理指定的执行阶段指令
- **使用**: 项目文档中既定的模式
- **输出**: 干净、可运行的代码

### 3. 验证代理 - 守护者

- **角色**: 确保代码质量
- **检查**: 项目规范合规性
- **运行**: 【填入您项目技术栈相关】的静态分析和验证命令
- **输出**: 通过/失败报告

### 4. 测试代理 - 验证者

- **角色**: 测试功能
- **验证**: 用户流程和边缘情况
- **测试**: 不同用户角色和平台
- **输出**: 测试结果

### 5. 文档代理 - 史学家

- **角色**: 更新文档
- **更新**: 项目知识库和模式
- **维护**: 项目文档
- **输出**: 更新的文档

### 6. 更新代理 - 部署者

- **角色**: 处理版本控制
- **创建**: 详细的提交消息
- **推送**: 仅到开发分支
- **输出**: 提交确认

## 📋 工作原理

### 步骤 1：识别问题

用户报告问题或提议功能：

```bash
/planner "【填入您的问题描述】"
```

### 步骤 2：规划代理调查

规划代理分析：

- 当前代码实现
- `docs/` 中的文档
- 最近的构建和测试报告
- 数据库/API 架构
- 项目中记录的模式

输出：多个阶段，每个代理都有具体指令

### 步骤 3：顺序执行

每个代理读取其阶段并执行，例如：

```bash
/executer # 基于阶段 1 实现修复
/verifier # 基于阶段 2 验证代码质量
/tester # 基于阶段 3 测试功能
/documenter # 基于阶段 4 更新文档
```

## 🎯 关键原则

### 1. 专注根本原因

- 不要修复症状，要修复实际问题。
- 不要使用临时方案或快速补丁。
- 遵循项目中既定的架构和设计模式。

### 2. 文档优先

- 实现前检查现有文档。
- 实现后更新相关文档。
- 保持项目知识库最新。

### 3. 质量门控

- 每个代理必须成功完成。
- 验证必须通过（包括代码风格和静态分析检查）。
- 测试必须通过（单元测试、集成测试、UI 测试）。
- 文档必须更新。
- **【填入您项目技术栈相关】**，例如：
  - 没有未被调试标志包裹的日志语句。
  - 避免使用不安全的类型（如 `any`）或操作（如强制解包）。
  - 没有硬编码的用户界面文本（应使用国际化框架）。
  - 所有错误处理必须使用统一的日志记录工具。

### 4. 安全第一

- 永远不要直接推送到 `main` 或 `master` 分支。
- 始终在 `develop` 或功能分支上工作。
- 生产环境的部署需要手动批准和代码审查。

## 💡 示例工作流

### 问题："【填入一个通用问题，例如：用户认证失败】"

**规划代理输出：**

```
根本原因：【填入根本原因分析】
解决方案：【填入高层次的解决方案】

阶段 1 - 执行代理：
- 任务：【填入具体的编码任务】
- 模式：【填入需要参考的文档或代码路径】

阶段 2 - 验证代理：
- 任务：【填入具体的验证任务，如运行静态分析】

阶段 3 - 测试代理：
- 任务：【填入具体的测试场景】

阶段 4 - 文档代理：
- 任务：【填入需要更新的文档】

阶段 5 - 更新代理：
- 任务：【填入提交信息和目标分支】
```

**结果**：问题被系统性地解决并记录在案。

## 📊 成功指标

- ✅ 所有验证通过
- ✅ 没有编译警告或错误
- ✅ 所有测试通过
- ✅ 文档已更新
- ✅ 干净的 Git 提交历史
- ✅ 安全的部署过程

## 🛠 使用工具

- **【填入您项目技术栈相关】**，例如：
  - **IDE**: [例如 VS Code, IntelliJ, Xcode]
  - **语言/框架**: [例如 Python/Django, Java/Spring, Swift/SwiftUI]
  - **静态分析**: [例如 ESLint, Checkstyle, SwiftLint]
  - **测试框架**: [例如 Jest, JUnit, XCTest]
  - **版本控制**: Git
  - **自动化工具**: [例如 npm scripts, Maven, Gradle, Fastlane]

## 🔄 持续改进

系统从每个问题中学习：

1. 新模式 → 项目知识库
2. 新解决方案 → docs/
3. 新的反模式 → 记录并避免
4. 更好的工作流 → 代理流程更新

---

## 快速开始

1. 安装 Claude.ai 桌面应用。
2. 启用 Claude Code 功能。
3. 在 Claude 中打开项目目录。
4. 使用 `/planner "你的问题"` 开始。
5. 遵循代理序列完成工作。
6. 安全地构建和部署你的应用。

记住：**质量胜过速度。第一次就把它做对。**